<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:switch="${page}">
        <title th:case="'login'">Login</title>
        <title th:case="'register'">Register</title>
        <title th:case="home">Home</title> 
        <title th:case="'profile'">Profile</title>

    </th:block>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        
    <!-- Styles -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/fontawesome-all.min.css" rel="stylesheet">
    <link href="/css/swiper.css" rel="stylesheet">
    <link href="/css/styles.css" rel="stylesheet">
    
    <link th:if="${page == 'profile' or page == 'profile-update'}" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link th:if="${page == 'profile' or page == 'profile-update'}" href="/css/profile.css" rel="stylesheet">

    <!-- Favicon  -->
    <link rel="icon" href="/images/favicon.png">
</head>
<body>
    <!-- Navigation -->
    <nav id="navbarExample" class="navbar navbar-expand-lg fixed-top navbar-light top-nav-collapse" aria-label="Main navigation">
        <div class="container">

            <!-- Image Logo -->
            <a class="navbar-brand logo-image" href="#"><img src="/images/logo.svg" alt="alternative"></a> 

            <!-- Text Logo - Use this if you don't have a graphic logo -->
            <!-- <a class="navbar-brand logo-text" href="index.html">Ioniq</a> -->

            <button class="navbar-toggler p-0 border-0" type="button" id="navbarSideCollapse" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
                <ul class="navbar-nav ms-auto navbar-nav-scroll">
                    <li class="nav-item">
                        <a class="nav-link" th:classappend="${page == 'home' ? 'active' : ''}" href="/home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:classappend="${page == 'features' ? 'active' : ''}" href="#">Features</a>
                    </li>   
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <a class="nav-link" th:classappend="${page == 'profile' or page == 'profile-update' ? 'active' : ''}" href="/profile">
                            Hi, <span class="" sec:authentication="name"></span> 
                        </a>
                    </li>
                    <li class="nav-item" sec:authorize="hasRole('ADMIN')">
                        <a class="nav-link" th:classappend="${page == 'manageUsers' ? 'active' : ''}" href="/manageUsers">
                            Manage Users
                        </a>
                    </li>
                </ul>
                
                <!-- Kiểm tra nếu đã đăng nhập -->
                <span class="nav-item" sec:authorize="isAuthenticated()">
                    <!-- <span class="text-primary fw-bold " sec:authentication="name"></span>  -->
                    <a class="btn-outline-sm" href="/logout">Logout</a>
                </span>

                <!-- Nếu chưa đăng nhập -->
                <span class="nav-item" sec:authorize="isAnonymous()">
                    <a class="btn-outline-sm" href="/login">Log in</a>
                </span>
            </div> <!-- end of navbar-collapse -->
        </div> <!-- end of container -->
    </nav> <!-- end of navbar -->
    <!-- end of navigation -->

